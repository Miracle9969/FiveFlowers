<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.whjx.dao.OrderMapper">
	<resultMap id="OrderResultMap" type="com.whjx.pojo.Order" >
		<id column="order_id" property="orderId"/>
		<result column="order_user_id" property="orderUserId"/>
		<result column="order_ad_id" property="orderAdId"/>
		<result column="order_pay_id" property="orderPayId"/>
		<result column="order_number" property="orderNumber"/>
		<result column="order_delivery_status" property="orderDeliveryStatus"/>
		<result column="order_found_time" property="orderFoundTime"/>
		<result column="order_payment_time" property="orderPaymentTime"/>
		<result column="order_shipments_time" property="orderShipmentsTime"/>
		<result column="order_receiving_time" property="orderReceivingTime"/>
		<result column="order_freight" property="orderFreight"/>
		<result column="order_actual_payment" property="orderActualPayment"/>
	</resultMap>
	<select id="getOrderAll" resultType="com.whjx.pojo.Order" resultMap="OrderResultMap">
		SELECT
		w_order.order_id,
		w_order.order_user_id,
		w_order.order_ad_id,
		w_order.order_pay_id,
		w_order.order_number,
		w_order.order_delivery_status,
		w_order.order_found_time,
		w_order.order_payment_time,
		w_order.order_shipments_time,
		w_order.order_receiving_time,
		w_order.order_freight,
		w_order.order_actual_payment
		FROM
		w_order
		<trim prefix="where" prefixOverrides="and | or">
			<if test="orderId != null and orderId != ''">
				and orderId = #{orderId}
			</if>
			<if test="orderUserId != null and orderUserId != ''">
				and orderUserId = #{orderUserId}
			</if>
			<if test="orderAdId != null and orderAdId != ''">
				and orderAdId = #{orderAdId}
			</if>
			<if test="orderPayId != null and orderPayId != ''">
				and orderPayId = #{orderPayId}
			</if>
			<if test="orderNumber != null and orderNumber != ''">
				and orderNumber = #{orderNumber}
			</if>
			<if test="orderDeliveryStatus != null and orderDeliveryStatus != ''">
				and orderDeliveryStatus = #{orderDeliveryStatus}
			</if>
			<if test="orderFoundTime != null and orderFoundTime != ''">
				and orderFoundTime = #{orderFoundTime}
			</if>
			<if test="orderPaymentTime != null and orderPaymentTime != ''">
				and orderPaymentTime = #{orderPaymentTime}
			</if>
			<if test="orderShipmentsTime != null and orderShipmentsTime != ''">
				and orderShipmentsTime = #{orderShipmentsTime}
			</if>
			<if test="orderReceivingTime != null and orderReceivingTime != ''">
				and orderReceivingTime = #{orderReceivingTime}
			</if>
			<if test="orderFreight != null and orderFreight != ''">
				and orderFreight = #{orderFreight}
			</if>
			<if test="orderActualPayment != null and orderActualPayment != ''">
				and orderActualPayment = #{orderActualPayment}
			</if>
		</trim>
	</select>
	<select id="getOrderByStatus" parameterType="Integer" resultMap="OrderResultMap">
		SELECT
		w_order.order_id,
		w_order.order_user_id,
		w_order.order_ad_id,
		w_order.order_pay_id,
		w_order.order_number,
		w_order.order_delivery_status,
		w_order.order_found_time,
		w_order.order_payment_time,
		w_order.order_shipments_time,
		w_order.order_receiving_time,
		w_order.order_freight,
		w_order.order_actual_payment
		FROM
		w_order
		WHERE
		w_order.order_delivery_status = #{ods}
	</select>
	<update id="updateOrderByStatus" parameterType="com.whjx.pojo.Order">
		UPDATE w_order
		<trim prefix="set" suffixOverrides=",">
			<if test="orders.orderId != null and orders.orderId != ''">
				order_id = #{orders.orderId},
			</if>
			<if test="orders.orderUserId != null and orders.orderUserId != ''">
				order_user_id = #{orders.orderUserId},
			</if>
			<if test="orders.orderAdId != null and orders.orderAdId != ''">
				order_ad_id = #{orders.orderAdId},
			</if>
			<if test="orders.orderPayId != null and orders.orderPayId != ''">
				order_pay_id = #{orders.orderPayId},
			</if>
			<if test="orders.orderNumber != null and orders.orderNumber != ''">
				order_number = #{orders.orderNumber},
			</if>
			<if test="orders.orderFoundTime != null and orders.orderFoundTime != ''">
				order_found_time = #{orders.orderFoundTime},
			</if>
			<if test="orders.orderPaymentTime != null and orders.orderPaymentTime != ''">
				order_payment_time = #{orders.orderPaymentTime},
			</if>
			<if test="orders.orderShipmentsTime != null and orders.orderShipmentsTime != ''">
				order_shipments_time = #{orders.orderShipmentsTime},
			</if>
			<if test="orders.orderReceivingTime != null and orders.orderReceivingTime != ''">
				order_receiving_time = #{orders.orderReceivingTime},
			</if>
			<if test="orders.orderFreight != null and orders.orderFreight != ''">
				order_freight = #{orders.orderFreight},
			</if>
			<if test="orders.orderActualPayment != null and orders.orderActualPayment != ''">
				order_actual_payment = #{orders.orderActualPayment},
			</if>
		</trim>
		where order_delivery_status = #{orders.orderDeliveryStatus}
	</update>
</mapper>